{"ast":null,"code":"import _slicedToArray from \"/Users/joethaxton/Desktop/chat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"/Users/joethaxton/Desktop/chat/my-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _taggedTemplateLiteral from \"/Users/joethaxton/Desktop/chat/my-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/joethaxton/Desktop/chat/my-app/src/Test.js\";\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  background-color: green;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  overflow-y: auto;\\n  max-height: 100%;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  min-width: 250px;\\n  max-width: 100%;\\n  display: flex;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\n// import logo from './logo.svg';\n// import './Test.css';\n// import Test from './Test'\nimport React, { useEffect, useState } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\nimport Label from './Label';\nimport TextItem from './TextItem';\nimport styled from 'styled-components';\nconst StyledTextItemContainer = styled.div(_templateObject());\nconst ChatWindow = styled.div(_templateObject2());\nconst OwnTextItem = styled(TextItem)(_templateObject3());\n\nconst Test = (_ref) => {\n  let props = _extends({}, _ref);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        payload = _useState2[0],\n        setPayload = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        text = _useState4[0],\n        setText = _useState4[1];\n\n  const _useState5 = useState(\"user_\".concat(Math.floor(Math.random() * (999999999 - 1000000)), \":\")),\n        _useState6 = _slicedToArray(_useState5, 2),\n        currentUser = _useState6[0],\n        setCurrentUser = _useState6[1];\n\n  useEffect(() => {\n    if (props.client) {\n      props.client.onmessage = message => {\n        const parsed = JSON.parse(message.data);\n        setPayload([...payload, {\n          user: parsed.user,\n          text: parsed.text\n        }]);\n        console.log(payload);\n      };\n    }\n  });\n\n  const handleChange = e => {\n    setText(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    props.client.send(JSON.stringify({\n      text: text,\n      user: currentUser\n    }));\n    setText(\"\");\n  };\n\n  const handleKeyDown = e => {\n    console.log(e.keyCode === 13);\n\n    if (e.keyCode === 13 && text.length > 0) {\n      handleSubmit(e);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(ChatWindow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, payload && payload.map(item => {\n    if (item.currentUser === item.user) {\n      return React.createElement(StyledTextItemContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, item.user), React.createElement(TextItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, item.text));\n    } else {\n      return React.createElement(OwnTextItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, item.user), React.createElement(TextItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, item.text));\n    }\n  })), React.createElement(\"input\", {\n    onChange: e => handleChange(e),\n    value: text,\n    onKeyDown: e => handleKeyDown(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Submit\"));\n};\n\nexport default Test;","map":{"version":3,"sources":["/Users/joethaxton/Desktop/chat/my-app/src/Test.js"],"names":["React","useEffect","useState","w3cwebsocket","W3CWebSocket","Label","TextItem","styled","StyledTextItemContainer","div","ChatWindow","OwnTextItem","Test","props","payload","setPayload","text","setText","Math","floor","random","currentUser","setCurrentUser","client","onmessage","message","parsed","JSON","parse","data","user","console","log","handleChange","e","target","value","handleSubmit","send","stringify","handleKeyDown","keyCode","length","map","item"],"mappings":"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","sourcesContent":["// import logo from './logo.svg';\n// import './Test.css';\n// import Test from './Test'\nimport React, { useEffect, useState } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\nimport Label from './Label';\nimport TextItem from './TextItem';\nimport styled from 'styled-components';\n\nconst StyledTextItemContainer = styled.div`\n  min-width: 250px;\n  max-width: 100%;\n  display: flex;\n`;\n\nconst ChatWindow = styled.div`\n  overflow-y: auto;\n  max-height: 100%;\n`;\n\nconst OwnTextItem = styled(TextItem)`\n  background-color: green;\n`;\n\nconst Test = ({...props}) => {\n    const [payload, setPayload] = useState([]);\n    const [text, setText] = useState(\"\");\n    const [currentUser, setCurrentUser] = useState(`user_${Math.floor(Math.random() * (999999999 - 1000000))}:`)\n    useEffect(() => {\n      if (props.client) {\n        props.client.onmessage = (message) => {\n          const parsed = JSON.parse(message.data);\n          setPayload([...payload, {user: parsed.user, text: parsed.text}])\n          console.log(payload)\n        };\n      }\n    })\n  \n    const handleChange = (e) => {\n      setText(e.target.value)\n    }\n  \n    const handleSubmit = (e) => {\n      props.client.send(JSON.stringify({text: text, user: currentUser}))\n      setText(\"\")\n    }\n\n    const handleKeyDown = e => {\n      console.log(e.keyCode === 13)\n      if (e.keyCode === 13 && text.length > 0) {\n        handleSubmit(e)\n      }\n    }\n  \n    return (\n      <>\n      <ChatWindow>\n        {payload && payload.map(item => {\n          if (item.currentUser === item.user) {\n            return (\n              <StyledTextItemContainer>\n                <Label>{item.user}</Label>\n                <TextItem>{item.text}</TextItem>\n              </StyledTextItemContainer>\n            )\n          } else {\n            return (\n              <OwnTextItem>\n                <Label>{item.user}</Label>\n                <TextItem>{item.text}</TextItem>\n              </OwnTextItem>\n            );\n          }\n\n        })}\n        </ChatWindow>\n\n        <input onChange={e => handleChange(e)} value={text} onKeyDown={e => handleKeyDown(e)}></input>\n        <button onClick={handleSubmit}>Submit</button>\n        </>\n    )\n}\n\nexport default Test;"]},"metadata":{},"sourceType":"module"}