{"ast":null,"code":"import _slicedToArray from \"/Users/joethaxton/Desktop/chat/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/joethaxton/Desktop/chat/my-app/src/App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Test from './Test';\nimport React, { useEffect, useState } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nconst App = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        established = _useState2[0],\n        setEstablished = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        payload = _useState4[0],\n        setPayload = _useState4[1];\n\n  const _setState = setState(\"\"),\n        _setState2 = _slicedToArray(_setState, 2),\n        text = _setState2[0],\n        setText = _setState2[1];\n\n  const client = new W3CWebSocket('ws://localhost:8999/');\n\n  const _useState5 = useState(Math.random() * (999999999 - 1000000)),\n        _useState6 = _slicedToArray(_useState5, 2),\n        currentUser = _useState6[0],\n        setCurrentUser = _useState6[1];\n\n  client.onmessage = message => {\n    console.log(message);\n  };\n\n  useEffect(() => {\n    if (!established) {\n      client.onopen = () => {\n        console.log('WebSocket Client Connected');\n      };\n\n      client.onmessage = message => {\n        console.log(message);\n      };\n\n      setEstablished(true);\n    }\n  });\n\n  const handleChange = e => {\n    setText(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    setPayload(...payload, {\n      user: currentUser,\n      text: text\n    });\n    client.send(payload);\n  };\n\n  return React.createElement(React.Fragment, null, \"payload.map(item => \", \")\", React.createElement(\"input\", {\n    onChange: e => handleChange(e),\n    value: text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Submit\"));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/joethaxton/Desktop/chat/my-app/src/App.js"],"names":["Test","React","useEffect","useState","w3cwebsocket","W3CWebSocket","App","established","setEstablished","payload","setPayload","setState","text","setText","client","Math","random","currentUser","setCurrentUser","onmessage","message","console","log","onopen","handleChange","e","target","value","handleSubmit","user","send"],"mappings":";;;AACA,OAAO,WAAP;AACA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,YAAY,IAAIC,YAAzB,QAA6C,WAA7C;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA,oBACwBH,QAAQ,CAAC,KAAD,CADhC;AAAA;AAAA,QACPI,WADO;AAAA,QACMC,cADN;;AAAA,qBAEgBL,QAAQ,CAAC,EAAD,CAFxB;AAAA;AAAA,QAEPM,OAFO;AAAA,QAEEC,UAFF;;AAAA,oBAGUC,QAAQ,CAAC,EAAD,CAHlB;AAAA;AAAA,QAGPC,IAHO;AAAA,QAGDC,OAHC;;AAId,QAAMC,MAAM,GAAG,IAAIT,YAAJ,CAAiB,sBAAjB,CAAf;;AAJc,qBAKwBF,QAAQ,CAACY,IAAI,CAACC,MAAL,MAAiB,YAAY,OAA7B,CAAD,CALhC;AAAA;AAAA,QAKPC,WALO;AAAA,QAKMC,cALN;;AAMdJ,EAAAA,MAAM,CAACK,SAAP,GAAoBC,OAAD,IAAa;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACD,GAFD;;AAGAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACK,WAAL,EAAkB;AAChBO,MAAAA,MAAM,CAACS,MAAP,GAAgB,MAAM;AACpBF,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD,OAFD;;AAGAR,MAAAA,MAAM,CAACK,SAAP,GAAoBC,OAAD,IAAa;AAC9BC,QAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACD,OAFD;;AAGAZ,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AACF,GAVQ,CAAT;;AAYA,QAAMgB,YAAY,GAAIC,CAAD,IAAO;AAC1BZ,IAAAA,OAAO,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAIH,CAAD,IAAO;AAC1Bf,IAAAA,UAAU,CAAC,GAAGD,OAAJ,EAAa;AAAEoB,MAAAA,IAAI,EAAEZ,WAAR;AAAqBL,MAAAA,IAAI,EAAEA;AAA3B,KAAb,CAAV;AACAE,IAAAA,MAAM,CAACgB,IAAP,CAAYrB,OAAZ;AACD,GAHD;;AAKA,SACE,uEAIE;AAAO,IAAA,QAAQ,EAAEgB,CAAC,IAAID,YAAY,CAACC,CAAD,CAAlC;AAAuC,IAAA,KAAK,EAAEb,IAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE;AAAQ,IAAA,OAAO,EAAEgB,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CADF;AASH,CAvCD;;AAyCA,eAAetB,GAAf","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Test from './Test'\nimport React, { useEffect, useState } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nconst App = () => {\n    const [established, setEstablished] = useState(false)\n    const [payload, setPayload] = useState([]);\n    const [text, setText] = setState(\"\");\n    const client = new W3CWebSocket('ws://localhost:8999/');\n    const [currentUser, setCurrentUser] = useState(Math.random() * (999999999 - 1000000))\n    client.onmessage = (message) => {\n      console.log(message);\n    };\n    useEffect(() => {\n      if (!established) {\n        client.onopen = () => {\n          console.log('WebSocket Client Connected');\n        };\n        client.onmessage = (message) => {\n          console.log(message);\n        };\n        setEstablished(true);\n      }\n    })\n  \n    const handleChange = (e) => {\n      setText(e.target.value)\n    }\n  \n    const handleSubmit = (e) => {\n      setPayload(...payload, { user: currentUser, text: text });\n      client.send(payload)\n    }\n  \n    return (\n      <>\n        payload.map(item => {\n          \n        })\n        <input onChange={e => handleChange(e)} value={text}></input>\n        <button onClick={handleSubmit}>Submit</button>\n      </>\n    )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}